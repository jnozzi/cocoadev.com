EventMonitorTest is a publicly available xcode project, hosted by Apple here: http://developer.apple.com/samplecode/EventMonitorTest/index.html

The code demonstrates how to trap mouse and keyboard events across all applications.
